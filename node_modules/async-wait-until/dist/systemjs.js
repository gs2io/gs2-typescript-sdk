System.register([],(function(e){"use strict";return{execute:function(){class t extends Error{constructor(e){super(null!=e?`Timed out after waiting for ${e} ms`:"Timed out"),Object.setPrototypeOf(this,t.prototype)}}e("TimeoutError",t);const r=(e,t)=>new Promise(((r,n)=>{try{e.schedule(r,t)}catch(e){n(e)}})),n={schedule:(e,t)=>{let r;const n=e=>{null!=e&&clearTimeout(e),r=void 0};return r=setTimeout((()=>{n(r),e()}),t),{cancel:()=>n(r)}}},o=e("DEFAULT_INTERVAL_BETWEEN_ATTEMPTS_IN_MS",50),u=e("DEFAULT_TIMEOUT_IN_MS",5e3),c=e("WAIT_FOREVER",Number.POSITIVE_INFINITY),i=(e,i,s)=>{var l,T;const m=null!==(l="number"==typeof i?i:null==i?void 0:i.timeout)&&void 0!==l?l:u,a=null!==(T="number"==typeof i?s:null==i?void 0:i.intervalBetweenAttempts)&&void 0!==T?T:o;let E=!1;const d=()=>new Promise(((t,o)=>{const u=()=>{E||new Promise(((t,r)=>{try{t(e())}catch(e){r(e)}})).then((e=>{e?t(e):r(n,a).then(u).catch(o)})).catch(o)};u()})),h=m!==c?()=>r(n,m).then((()=>{throw E=!0,new t(m)})):void 0;return null!=h?Promise.race([d(),h()]):d()};e({waitUntil:i,default:i})}}}));//# sourceMappingURL=systemjs.js.map
